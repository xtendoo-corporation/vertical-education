<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <record id="view_education_crm_course" model="ir.ui.view">
    <field name="name">education.crm.course.form</field>
    <field name="model">crm.lead</field>
    <field name="inherit_id" ref="crm.crm_case_form_view_oppor"/>
    <field name="arch" type="xml">
      <xpath expr="//button[@name='action_set_won_rainbowman']" position="after">
        <button string="Create Enrollment" name="create_enrollment" type="object" context="{'default_partner_id': partner_id, 'default_course_id': course_id}" class="oe_highlight"/>
      </xpath>
      <xpath expr="//field[@name='partner_id']" position="before">
        <field name="course_id"/>
        <field name="enrollment_id" readonly="1" attrs="{'invisible':[('enrollment_id','=', False)]}"/>
      </xpath>
      <xpath expr="//field[@name='partner_id']" position="attributes">
        <attribute name="string">Partner</attribute>
      </xpath>
      <xpath expr="//field[@name='partner_name']" position="attributes">
        <attribute name="string">Partner name</attribute>
      </xpath>
      <xpath expr="//field[@name='name']" position="attributes">
        <attribute name="required">False</attribute>
      </xpath>
      <xpath expr="//field[@name='partner_id']" position="attributes">
        <attribute name="required">True</attribute>
        <attribute name="domain"></attribute>
      </xpath>
    </field>
  </record>

  <record id="view_education_crm_course_wizard" model="ir.ui.view">
    <field name="name">education.crm.course.wizard.form</field>
    <field name="model">crm.lead</field>
    <field name="inherit_id" ref="crm.view_create_opportunity_simplified"/>
    <field name="arch" type="xml">
      <!-- TODO: Esto es propio del cliente
      <xpath expr="//field[@name='name']" position="attributes">
        <attribute name="invisible">True</attribute>
      </xpath>
      <xpath expr="//field[@name='name']" position="attributes">
        <attribute name="required">False</attribute>
      </xpath>
      <xpath expr="//field[@name='partner_id']" position="attributes">
        <attribute name="required">True</attribute>
        <attribute name="domain"></attribute>
      </xpath>
      -->
      <xpath expr="//field[@name='partner_id']" position="after">
        <field name="course_id"/>
      </xpath>
    </field>
  </record>

</odoo>
